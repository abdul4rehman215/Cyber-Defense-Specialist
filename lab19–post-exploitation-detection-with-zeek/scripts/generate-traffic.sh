#!/bin/bash

echo "Generating test traffic patterns..."

# Normal HTTP traffic
for i in {1..5}; do
    curl -s http://example.com > /dev/null
done

# Suspicious User-Agent
curl -A "malware-bot" http://example.com > /dev/null

# Simulate large upload (fake POST with large data)
dd if=/dev/zero bs=1M count=12 2>/dev/null | \
curl -X POST --data-binary @- http://example.com > /dev/null

# Port scan simulation (ports 20-40)
for port in {20..40}; do
    timeout 1 bash -c "echo > /dev/tcp/127.0.0.1/$port" 2>/dev/null
done

# DNS normal queries
nslookup google.com > /dev/null 2>&1
nslookup github.com > /dev/null 2>&1

# Suspicious DNS query
nslookup malware-c2.com > /dev/null 2>&1

# Beaconing simulation (5 repeated connections)
for i in {1..6}; do
    curl -s http://example.com > /dev/null
    sleep 2
done

# Connection flood
for i in {1..60}; do
    curl --max-time 1 -s http://example.com > /dev/null &
done

wait

echo "Traffic generation complete"
